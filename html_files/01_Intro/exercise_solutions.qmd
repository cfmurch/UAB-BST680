---
title: "Table Exercise"
author: "YOUR NAME"
date: "Today's date"
format:
  html:
    code_folding: show
    df-print: paged
    fig-caption: true
    fig-height: 4
    fig-width: 7
    highlight: tango
    theme: cosmo
    toc: true
    toc-float: true
---

## Problem 1

- Get some practice working with `gt`

- Use what you learned in the intro to markdown file to create the table below:

**Hints**: 

- Note, we're using rows 1, 2, 3, 51, 52, 53, 101, 102, and 103 of the `iris` dataset

- The `iris` dataset is already loaded in your R environment, no need to import it


```{r}

library(gt)

#Pull the rows
irisx <- iris[c(1:3,51:53,101:103),]

#Set the species to sentence case
irisx$Species <- stringr::str_to_sentence(irisx$Species)

#Initialize gt and define the grouping column
gt_tbl_1 <- gt(data = irisx, groupname_col = "Species")

#Make the group stubhead
gt_tbl_2 <- tab_stubhead(gt_tbl_1, label="Species")

#Define the title and subtitle with md()
gt_tbl_3 <- tab_header(
  data = gt_tbl_2,
  title = md("__Iris dataset__"),
  subtitle = "The first three rows for each species are presented"
)

#Add the footer source notation
gt_tbl_4 <- tab_source_note(
  data = gt_tbl_3,
  source_note = md("__Fisher, R. A__. (1936) The use of multiple measurements in taxonomic problems _Annals of Eugenics_, 7, Part II, 179–188.")
) |>
  tab_source_note(
    source_note = md("The data were collected by Anderson, Edgar (1935). The irises of the Gaspe Peninsula, _Bulletin of the American Iris Society_, 59, 2–5.")
  ) |>
  tab_source_note(
    source_note = md("All table values are in __centimeters__."))

#Make the species bold
gt_tbl_5 <- tab_style(
  data = gt_tbl_4,
  locations = cells_row_groups(), 
  style = cell_text(weight = 'bold')
)

#Use a regex to clean up the colnames for proper labels
labels_curr <- gsub("\\.", " ", colnames(iris)[1:4])
names(labels_curr) <- colnames(iris)[1:4]

#Use labels_curr to add table labels
gt_tbl_6 <- cols_label(
  .data = gt_tbl_5,
  .list = as.list(labels_curr)
)

#cols_align centers everything
gt_tbl_7 <- cols_align(
  data = gt_tbl_6,
  align = "center"
)

#Set the font to Georgia (common for manuscripts)
gt_tbl_8 <- opt_table_font(
  data=gt_tbl_7,
  font = c("Georgia")
)

#Quarto makes strips by default so suppress them here
gt_tbl_9 <- tab_options(
  data=gt_tbl_8,
  quarto.disable_processing = TRUE
)


gt_tbl_9
```

### Challenge yourself

There are a couple of things not discussed in the vignette that are applied here, not necessary but if you're feeling ambitious...

1.   Proper case on the species names\
    __Hint__ - Not a gt function, do this early
2.   Center aligning the columns\
    __Hint__ - Use the `col_align()` function
3.   Using Georgia as the table font\
    __Hint__ - There are many `opt_` functions in `gt`, maybe there's one for table fonts?
4.   Removing bootstrap striping
    
:::{.callout-caution} 
#4 will take some digging in Quarto, good luck!
:::


